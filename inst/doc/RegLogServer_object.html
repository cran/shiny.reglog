<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>RegLogServer object fields and methods</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">RegLogServer object fields and methods</h1>



<div id="about-r6-and-specifically-reglogserver-class" class="section level2">
<h2>About R6 and specifically RegLogServer Class</h2>
<p><em>R6</em> is the alternative class system available for
<strong>R</strong> users. It is more driven towards Object Oriented
Programming vs Functional Programming that is most known to
<strong>R</strong> users via built-in <em>S3</em> class system.</p>
<p><em>R6</em> is ideal for creating more complex systems - it keeps all
their elements enclosed in their own environment. Most of
<strong>R</strong> users actually uses <em>R6</em> objects on daily
basis: eg. the whole <em>Shiny</em> system is built as system of
<em>R6</em> objects.</p>
<p>Basically, all there is to know about <em>R6</em> system in regards
to <em>shiny.reglog</em> usage is, that:</p>
<ul>
<li>all modules available in <em>shiny.reglog</em> are <em>R6</em>
classes:
<ul>
<li><em>RegLogServer</em></li>
<li>dbConnectors - which are used by every <em>RegLogServer</em> to
communicate with database containing your user data.
<ul>
<li><em>RegLogDBIConnector</em></li>
<li><em>RegLogGsheetConnector</em></li>
</ul></li>
<li>mailConnectors - which are used by every <em>RegLogServer</em> to
send emails to users of your ShinyApp.
<ul>
<li><em>RegLogEmayiliConnector</em></li>
<li><em>RegLogGmailConnector</em></li>
</ul></li>
<li>vanilla <em>RegLogConnector</em>, that you can use to create your
own <em>Connector</em> class with inheritance.</li>
</ul></li>
<li>R6 objects after initialization have public elements, that can be
accessed with <code>$</code>. They can be either <em>fields</em>,
holding some values, or <em>methods</em> containing functions.</li>
</ul>
<p>If you want to get to know more about R6 system as a whole I advise
you to check out <a href="https://r6.r-lib.org/articles/">articles
created by R6 maintainers</a>. Below I will talk more thoroughly about
<em>RegLogServer</em> class and its public fields and methods.</p>
<p>There are multiple public elements to <em>RegLogServer</em>. To keep
them in order, I will describe them on basis of their usage. In all code
chunks I will refer to them as if they would be called from an object
assigned as <em>RegLogServer</em>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>  RegLogServer <span class="ot">&lt;-</span> RegLogServer<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">dbConnector =</span> dbConnector,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mailConnector =</span> mailConnector)</span></code></pre></div>
</div>
<div id="state-of-user-in-current-shinyapp-session" class="section level2">
<h2>State of user in current ShinyApp session</h2>
<p>Elements described there are the most important things that every
creator of ShinyApp that incorporates <em>shiny.reglog</em> should be
using to profit from user login. All of them are
<code>reactiveVal</code> objects, so you can <code>observe</code> their
changes and to access their current value you need to include them with
parentheses.</p>
<div id="check-if-the-user-in-current-session-is-logged-in" class="section level3">
<h3>Check if the user in current session is logged in</h3>
<p><code>is_logged</code> is a simple boolean value to check if the user
in current session is logged in (<code>TRUE</code>) or not
(<code>FALSE</code>)</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># observe the reactiveVal change</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">observeEvent</span>(RegLogServer<span class="sc">$</span>is_logged, {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if contains TRUE: user is currently logged-in</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (RegLogServer<span class="sc">$</span><span class="fu">is_logged</span>()) {</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">showModal</span>(<span class="fu">modalDialog</span>(<span class="at">title =</span> <span class="st">&quot;You are logged in!&quot;</span>))</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if contains FALSE: user isn&#39;t logged-in</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">showModal</span>(<span class="fu">modalDialog</span>(<span class="at">title =</span> <span class="st">&quot;You are not logged in!&quot;</span>))</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="current-id-of-the-user" class="section level3">
<h3>Current ID of the user</h3>
<p><code>user_id</code> field (character string): unique user ID. When
the user isn’t logged it contains generated at the start of the session
(or after logout) <em>Universally Unique Identifier</em> (with the use
of <code>uuid::UUIDgenerate()</code>).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>uuid<span class="sc">::</span><span class="fu">UUIDgenerate</span>()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;73aa38cc-589e-47b6-9e82-dc4d07a81189&quot;</span></span></code></pre></div>
<p>After login it contains the username that the user have chosen during
registration procedure.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>RegLogServer<span class="sc">$</span><span class="fu">user_id</span>()</span></code></pre></div>
</div>
<div id="email-address-of-the-currently-logged-user" class="section level3">
<h3>Email address of the currently logged user</h3>
<p><code>user_mail</code> field (character string): unique user email.
When the user is logged in, it contains the email that is currently
associated with their <em>user_id</em>. Otherwise, it contains empty
character string (<code>&quot;&quot;</code>).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>RegLogServer<span class="sc">$</span><span class="fu">user_mail</span>()</span></code></pre></div>
</div>
<div id="account-id-of-the-logged-user" class="section level3">
<h3>Account ID of the logged user</h3>
<p><code>account_id</code> field (character string): unique account ID.
It provides the simple way to relate to the specific logged users in
other, custom tables in the database (eg.: settings saved for specific
users).</p>
<ul>
<li>value of the <strong>id</strong> column in the <em>account</em>
table for <strong>SQL databases</strong></li>
<li><strong>row number - 1</strong> (header) in the <em>account</em>
spreadsheet for <strong>googlesheet database</strong>.</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>RegLogServer<span class="sc">$</span><span class="fu">account_id</span>()</span></code></pre></div>
</div>
</div>
<div id="user-logout" class="section level2">
<h2>User logout</h2>
<p>You can insert an event to logout user by calling public method.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if you create an actionButton &quot;logout_button&quot; in your UI, you can observe</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># its action and logout after press:</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">observeEvent</span>(input<span class="sc">$</span>logout_button, {</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  RegLogServer<span class="sc">$</span><span class="fu">logout</span>()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="ui-object-lists" class="section level2">
<h2>UI object lists</h2>
<p>There are dedicated functions for creating UI for different
functionalities of the <em>RegLog</em> system:
<code>RegLog_login_UI</code>, <code>RegLog_register_UI</code>,
<code>RegLog_credsEdit_UI</code> and <code>RegLog_resetPass_UI</code>.
They put whole default <code>tagLists</code> into the UI, though.</p>
<p>It is expected that there will be users who would want more freedom
with how their UI should look like. That’s why there are dedicated
public fields containing named lists of UI elements for all of these
functionalities. You can use these to create your own, custom
<code>renderUI</code> output.</p>
<ul>
<li><code>UI_list_login</code> containing elements of login procedure
tags</li>
<li><code>UI_list_register</code> containing elements of register
procedure tags</li>
<li><code>UI_list_credsEdit</code> containing elements of credentials
edit procedure tags</li>
<li><code>UI_list_resetPass</code> containing elements of reset password
procedure tags</li>
</ul>
</div>
<div id="message" class="section level2">
<h2>Message</h2>
<p><code>message</code> field is another <code>reactiveVal</code> value
that can be used to observe <strong>any</strong> change of the
<em>RegLogServer</em> object state. It always contains most recent
object of <em>S3</em> class <strong>RegLogConnectorMessage</strong>,
that the <em>RegLogServer</em> received from its <em>dbConnector</em> or
was specifically generated to communicate specific status changes.</p>
<blockquote>
<p>Messages received from mailConnector aren’t exposed in this field.
Instead, they are exposed in <code>RegLogServer$mail_message()</code>
field. They are separated because they don’t idicate a change in state
of <em>RegLog system</em> itself - instead, they just show the feedback
from mail sending service.</p>
</blockquote>
<p>Creation of custom logic depending on its change isn’t at all
necessary. It can be handy especially when for any reason you want to
inhibit the default <em>modalDialog</em>s that are called by
<em>RegLogServer</em> to inform end-user about consequences of their
actions (eg. successful login or unsuccessful, because the inputed user
ID or password is incorrect).</p>
<p>Every <em>RegLogConnectorMessage</em> is specific type of
<em>list</em> and can contain up to four elements:</p>
<ul>
<li><strong>time</strong>: numeric representation of
<code>Sys.time()</code> when it was generated</li>
<li><strong>type</strong>: indicates the type of the process during
which the message was generated</li>
<li><strong>data</strong>: <em>list</em> containing data that was send
with this message. Values contained there can be specific to certain
<em>type</em> of the message</li>
<li><strong>logcontent</strong>: all <em>RegLogConnectorMessage</em>s
send by and received by the <em>RegLogServer</em> object (and by every
<em>RegLogConnector</em>) are appended to that object <code>log</code>
field. Content there will be saved as a <em>note</em> in the logs.</li>
</ul>
<p>Below I want to characterize all types of
<em>RegLogConnectorMessages</em> that can be exposed in the
<code>RegLogServer$message()</code> field. Besides them there are also
messages that are send by the <em>RegLogServer</em> to its
<em>Connectors</em>. To learn more about these, read vignette
<strong>Creating custom RegLogConnector handlers</strong>.</p>
<blockquote>
<p>Conditions for every default modalDialog are written in the order
they should be checked in for best results. Conditions written like
<code>value == FALSE</code> can be checked like that - the
<em>message</em> of given type always contains this object. Conditions
written like <code>isFALSE(value)</code> means that the specified
<em>value</em> in the <em>message</em> can be <code>NULL</code>.</p>
</blockquote>
<div id="type-ping" class="section level3">
<h3>Type: <strong>ping</strong></h3>
<p>Type of the message that is produced by all classes inheriting from
<em>RegLogConnector</em> upon their initialization, making it also the
very first available in <code>RegLogServer$message()</code> field.
Received message of this type contains:</p>
<ul>
<li><em>data</em>: response_time: time between receiving the
<strong>ping</strong> message and sending this message back</li>
<li><em>logcontent</em>: for message upon initialization it will hold
value “init”.</li>
</ul>
</div>
<div id="type-login_front" class="section level3">
<h3>Type: <strong>login_front</strong></h3>
<p>Type of the message generated by <em>RegLogServer</em> object itself.
Contains information about invalidity of values provided during login
procedure by user. It contains:</p>
<ul>
<li><strong>data</strong>
<ul>
<li>success: boolean - <code>FALSE</code></li>
<li>input_provided: boolean - <code>FALSE</code></li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialogs</em>:</p>
<ul>
<li>login_noInput (<code>input_provided == FALSE</code>)</li>
</ul>
</div>
<div id="type-login" class="section level3">
<h3>Type: <strong>login</strong></h3>
<p>Type of the message received from the database connectors with
responses about login procedure. It contains:</p>
<ul>
<li><strong>data</strong>:
<ul>
<li>success: boolean - <code>TRUE</code> if the login was
successful</li>
<li>username: boolean - <code>TRUE</code> if the username exists in the
database</li>
<li>password: boolean - <code>TRUE</code> if the password provided
match</li>
<li><em>user_id</em>: character - contains user_id presented afterwards
in the <code>RegLogServer$user_id()</code>. Only if
<code>success == TRUE</code></li>
<li><em>user_mail</em>: character - contains user_mail presented
afterwards in the <code>RegLogServer$user_mail()</code>. Only if
<code>success == TRUE</code></li>
</ul></li>
<li><strong>logcontent</strong>:
<ul>
<li>brief information with username provided by the user and if the
login was successful.</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialogs</em>:</p>
<ul>
<li>login_badId
(<code>data$success == FALSE &amp;&amp; data$username == FALSE</code>)</li>
<li>login_badPass
(<code>data$success == FALSE &amp;&amp; data$password == FALSE</code>)</li>
<li>login_success (<code>data$success == TRUE</code>)</li>
</ul>
</div>
<div id="type-register_front" class="section level3">
<h3>Type: <strong>register_front</strong></h3>
<p>Type of the message generated by <em>RegLogServer</em> object itself.
Contains information about invalidity of values provided during register
procedure by user. It contains:</p>
<ul>
<li><strong>data</strong>:
<ul>
<li>success: boolean - <code>FALSE</code></li>
<li>input_provided: boolean - <code>TRUE</code> if all needed inputs
were provided</li>
<li>valid_id: boolean - <code>TRUE</code> if provided user ID was
valid</li>
<li>valid_email: boolean - <code>TRUE</code> if provided email was
valid</li>
<li>valid_pass: boolean - <code>TRUE</code> if provided password was
valid</li>
<li>identical_pass: boolean - <code>FALSE</code> (it is the last
condition checked)</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialogs</em>:</p>
<ul>
<li>register_noInput (<code>data$input_provided == FALSE</code>)</li>
<li>register_nonValidId (<code>isFALSE(data$valid_id)</code>)</li>
<li>register_nonValidEmail (<code>isFALSE(data$valid_email)</code>)</li>
<li>register_nonValidPass (<code>isFALSE(data$valid_pass)</code>)</li>
<li>register_notIndenticalPass
(<code>isFALSE(data$identical_pass)</code>)</li>
</ul>
</div>
<div id="type-register" class="section level3">
<h3>Type: <strong>register</strong></h3>
<p>Type of the message received from the database connector with
responses about register procedure. It contains:</p>
<ul>
<li><strong>data</strong>:
<ul>
<li>success: boolean - <code>TRUE</code> if the register was
successful</li>
<li>username: boolean - <code>TRUE</code> if there were no conflicts
with existing usernames in the database</li>
<li>email: boolean - <code>TRUE</code> if there were no conflicts with
existing e-mails in the database</li>
<li><em>user_id</em>: character - contains user ID with which new user
have been registered. Only if <code>success == TRUE</code></li>
<li><em>user_mail</em>: character - contains e-mail with which new user
have been registered. Only if <code>success == TRUE</code></li>
</ul></li>
<li><strong>logcontent</strong>:
<ul>
<li>registered user ID and mail if the register was successful or value
of the element which caused conflict.</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialogs</em>:</p>
<ul>
<li>register_existingId
(<code>data$success == FALSE &amp;&amp; data$username == FALSE</code>)</li>
<li>register_existingEmail
(<code>data$success == FALSE &amp;&amp; data$email == FALSE</code>)</li>
<li>register_success (<code>data$success == TRUE</code>)</li>
</ul>
</div>
<div id="type-credsedit_front" class="section level3">
<h3>Type: <strong>credsEdit_front</strong></h3>
<p>Type of the message generated by <em>RegLogServer</em> object itself.
Contains information about invalidity of values provided during
credentials change procedure by user. It contains:</p>
<ul>
<li><strong>data</strong>:
<ul>
<li>success: boolean - <code>FALSE</code> (generated only when something
is invalid)</li>
<li>user_logged: boolean - <code>TRUE</code> if user is currently logged
in</li>
<li>input_provided: boolean - <code>TRUE</code> if required inputs are
not empty</li>
<li>valid_id: boolean - <code>TRUE</code> if provided user ID was
valid</li>
<li>valid_email: boolean - <code>TRUE</code> if provided email was
valid</li>
<li>valid_pass: boolean - <code>TRUE</code> if provided password was
valid</li>
<li>identical_pass: boolean - <code>FALSE</code> (it is the last
condition checked)</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialogs</em>:</p>
<ul>
<li>credsEdit_notLogged (<code>data$user_logged == FALSE</code>)</li>
<li>credsEdit_noInput_pass
(<code>isFALSE(data$input_provided) &amp;&amp; change == &quot;pass&quot;</code>)</li>
<li>credsEdit_noInput_other
(<code>isFALSE(data$input_provided) &amp;&amp; change == &quot;other&quot;</code>)</li>
<li>credsEdit_nonValidId (<code>isFALSE(data$valid_id)</code>)</li>
<li>credsEdit_nonValidEmail
(<code>isFALSE(data$valid_email)</code>)</li>
<li>credsEdit_nonValidPass (<code>isFALSE(data$valid_pass)</code>)</li>
<li>credsEdit_notIdenticalPass
(<code>isFALSE(data$identical_pass)</code>)</li>
</ul>
</div>
<div id="type-credsedit" class="section level3">
<h3>Type: <strong>credsEdit</strong></h3>
<p>Type of the message received from the database connector with
responses about credentials edit procedure. It contains:</p>
<ul>
<li><strong>data</strong>:
<ul>
<li>success: boolean - <code>TRUE</code> if credentials edit was
successful</li>
<li>username: boolean - <code>TRUE</code> if provided username was
found</li>
<li>password: boolean - <code>TRUE</code> if provided password was
correct</li>
<li><em>new_username</em>: boolean - <code>TRUE</code> if provided new
ID weren’t in database (no conflicts). Only if there were some
conflict.</li>
<li><em>new_mail</em>: boolean - <code>TRUE</code> if provided new
e-mail weren’t in database (no conflicts). Only if there were some
conflict.</li>
<li><em>new_user_id</em>: character - contains new user ID. Only if user
ID was changed.</li>
<li><em>new_user_mail</em>: character - contains new user e-mail. Only
if user mail was changed.</li>
<li><em>new_user_pass</em>: boolean - <code>TRUE</code>. Only if user
password was changed.</li>
</ul></li>
<li><strong>logcontent</strong>:
<ul>
<li>brief information about changes.</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialogs</em>:</p>
<ul>
<li>credsEdit_badId
(<code>data$success == FALSE &amp;&amp; data$username == FALSE</code>)</li>
<li>credsEdit_badPass
(<code>data$success == FALSE &amp;&amp; data$password == FALSE</code>)</li>
<li>credsEdit_existingId
(<code>data$success == FALSE &amp;&amp; isFALSE(data$username)</code>)</li>
<li>credsEdit_existingEmail
(<code>data$success == FALSE &amp;&amp; isFALSE(data$email)</code>)</li>
<li>credsEdit_success (<code>data$success == TRUE</code>)</li>
</ul>
</div>
<div id="type-resetpass_front" class="section level3">
<h3>Type: <strong>resetPass_front</strong></h3>
<p>Type of the message generated by <em>RegLogServer</em> object itself.
Contains information about invalidity of values provided during password
reset procedure by user. It contains:</p>
<ul>
<li><strong>data</strong>
<ul>
<li>success: boolean - <code>FALSE</code> (message generated only when
something is invalid)</li>
<li>step: character - either <code>generate</code> or
<code>confirm</code>, depending on the step of the process</li>
<li>input_provided: boolean - <code>TRUE</code> if the inputs required
for specific step were provided</li>
<li>valid_pass: boolean - <code>TRUE</code> if provided password was
valid</li>
<li>identical_pass: boolean - <code>FALSE</code> (it is the last
condition checked)</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialogs</em>:</p>
<ul>
<li>resetPass_noInput_generate
(<code>data$step == &quot;generate&quot; &amp;&amp; isFALSE(data$input_provided)</code>)</li>
<li>resetPass_noInput_confirm
(<code>data$step == &quot;confirm&quot; &amp;&amp; isFALSE(data$input_provided)</code>)</li>
<li>resetPass_nonValidPass (<code>isFALSE(data$valid_pass)</code>)</li>
<li>resetPass_notIdenticalPass
(<code>isFALSE(data$identical_pass)</code>)</li>
</ul>
</div>
<div id="type-resetpass_generate" class="section level3">
<h3>Type: <strong>resetPass_generate</strong></h3>
<p>Type of the message received from the database connector with
responses about password reset procedure - code generation step. It
contains:</p>
<ul>
<li><strong>data</strong>:
<ul>
<li>success: boolean - <code>TRUE</code> if reset code was created
successfully</li>
<li>username: boolean - <code>TRUE</code> if the username was found in
the database</li>
<li>email: character - email to which the reset code will be sent</li>
</ul></li>
<li><strong>logcontent</strong>:
<ul>
<li>information about user for whom the reset code was generated and to
which email it will be sent.</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialog</em>:</p>
<ul>
<li>resetPass_badId (<code>data$username == FALSE</code>)</li>
<li>resetPass_codeGenerated (<code>data$success == TRUE</code>)</li>
</ul>
</div>
<div id="type-resetpass_confirm" class="section level3">
<h3>Type: <strong>resetPass_confirm</strong></h3>
<p>Type of the message received from the database connector with
responses about password reset procedure - code confirmation step. It
contains:</p>
<ul>
<li><strong>data</strong>
<ul>
<li>success: boolean - <code>TRUE</code> if the password was changed
successfully</li>
<li>username: boolean - <code>TRUE</code> if the username was found in
the database</li>
<li>code_valid: boolean - <code>TRUE</code> if the reset code was valid
(both matched and not expired)</li>
</ul></li>
<li><strong>logcontent</strong>
<ul>
<li>username for which the password was changed.</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialogs</em>:</p>
<ul>
<li>resetPass_badId (<code>data$username == FALSE</code>)</li>
<li>resetPass_nonValidCode (<code>isFALSE(data$code_valid)</code>)</li>
<li>resetPass_success (<code>data$success == TRUE</code>)</li>
</ul>
</div>
<div id="type-logout" class="section level3">
<h3>Type: <strong>logout</strong></h3>
<p>Type of the message generated by <em>RegLogServer</em> itself,
indicating that the user have been logged out. It contains:</p>
<ul>
<li><strong>data</strong>
<ul>
<li>success: boolean - <code>TRUE</code> if the user was logged in and
have been logged out</li>
</ul></li>
<li><strong>logcontent</strong>
<ul>
<li>username of the user that had logged out</li>
</ul></li>
</ul>
<p>This message type is binded with default <em>modalDialog</em>:</p>
<ul>
<li>logout_notLogIn (<code>data$success == FALSE</code>)</li>
<li>logout_success (<code>data$success == TRUE</code>)</li>
</ul>
</div>
</div>
<div id="mail-message" class="section level2">
<h2>Mail message</h2>
<p><code>mail_message</code> field contains last
<em>RegLogConnectorMessage</em> received from <em>mailConnector</em>. It
only provides information about last process of sending email, which
don’t signalize the change of the data or state of current login
session, so it is separated from much more important
<code>message</code> field.</p>
<div id="type-reglog_mail" class="section level3">
<h3>Type: <strong>reglog_mail</strong></h3>
<p>This type of message is received after default e-mail sending from
all RegLog processess. It contains:</p>
<ul>
<li><strong>data</strong>
<ul>
<li>process: character - name of the process for which e-mail was sent.
Either ‘register’, ‘credsEdit’ or ‘resetPass’</li>
<li>success: boolean - <code>TRUE</code> if the email was sent
sucessfully</li>
</ul></li>
<li><strong>logcontent</strong>
<ul>
<li>username and address to which email was sent, and the name of the
process that triggered it. If <code>success == FALSE</code> it will also
contain error message.</li>
</ul></li>
</ul>
</div>
<div id="type-custom_mail" class="section level3">
<h3>Type: <strong>custom_mail</strong></h3>
<p>This type of message isn’t received during regular <em>RegLog</em>
run. It is a response to message that you can use to send a custom
e-mail. It contains the same responses as <strong>reglog_mail</strong>
message.</p>
<p>To send a custom email using <em>mailConnector</em>, pass to its
<em>listener</em> a <em>RegLogConnectorMessage</em> of type
<em>custom_mail</em>, as in example below:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># you can observe some kind of event to trigger the send</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">observeEvent</span>(input<span class="sc">$</span>send_custom_email, {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># as the username and email will be acquired from RegLogServer,</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># it is best to make sure that the user is logged-in</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req</span>(RegLogServer<span class="sc">$</span><span class="fu">is_logged</span>())</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  message_to_send <span class="ot">&lt;-</span> <span class="fu">RegLogConnectorMessage</span>(</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">&quot;custom_mail&quot;</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># name your process in some unique way - it will be tracked by the app </span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># and saved into logs</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">process =</span> <span class="st">&quot;attachement_mail!&quot;</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># username and email can be gotten from RegLogServer</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">username =</span> RegLogServer<span class="sc">$</span><span class="fu">user_id</span>(),</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">email =</span> RegLogServer<span class="sc">$</span><span class="fu">user_mail</span>(),</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># we can specify the subject and body of message ourselves</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">mail_subject =</span> <span class="st">&quot;Custom message with attachement&quot;</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># it&#39;s best for the body to contain html code</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">mail_body =</span> <span class="st">&quot;&lt;p&gt;This is a custom message send from my App&lt;/p&gt;</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="st">                 &lt;p&gt;It is completely optional, but that kind of message can also</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="st">                    contain an attachment!&lt;/p&gt;&quot;</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># optionally: attachment</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">mail_attachement =</span> <span class="st">&quot;files/myplot.png&quot;</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
</div>
</div>
<div id="collected-logs-during-the-app-session" class="section level2">
<h2>Collected logs during the App session</h2>
<p>During the lifespan of the session, <em>RegLogServer</em> object
sends, shows and receives many different
<em>RegLogConnectorMessages</em>. By default, all messages
<strong>send</strong> to its <em>dbConnector</em> and
<em>mailConnector</em> and <strong>received</strong> back are saved into
the <code>RegLogServer$logs</code> field, into separate lists per
direction. There are also some messages that are only
<strong>shown</strong> by the object (namely all messages with “_front”
suffix and message of type <strong>logout</strong>)</p>
<p>They contain following information:</p>
<ul>
<li><strong>time</strong> when the message was generated</li>
<li><strong>session</strong> in which the message was generated (taken
from <code>session$token</code>)</li>
<li><strong>type</strong> of the message</li>
<li><strong>note</strong> in which the <code>logcontent</code> of the
message is saved</li>
</ul>
<div id="collecting-all-logs" class="section level3">
<h3>Collecting all logs</h3>
<p>You can use public method to get whole content of the logs collected
up to this point in time in the form of <em>data.frame</em>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>logs_df <span class="ot">&lt;-</span> RegLogServer<span class="sc">$</span><span class="fu">get_logs</span>()</span></code></pre></div>
</div>
</div>
<div id="configuring-reglogserver" class="section level2">
<h2>Configuring RegLogServer</h2>
<p>As the whole <em>RegLog</em> system is created with elasticity in
mind, there are also many options for customizing the behaviour of
<em>RegLogServer</em> object.</p>
<div id="customizing-messages-and-texts" class="section level3">
<h3>Customizing messages and texts</h3>
<p>During <em>RegLogServer</em> object initialization you can specify
some arguments:</p>
<ul>
<li><p><code>app_name</code> - name of your application that will show
up in default emails sent to your users. Defaults to the name of root
folder of your application.</p></li>
<li><p><code>app_address</code> - URL to your application that will show
up in default emails sent to your users. Defaults to the URL that the
App is accessed on the client side (actually: <code>NULL</code>, as the
address is got on session start)</p></li>
<li><p><code>lang</code> - language in which the default texts are
presented. Defaults to “en” for English. You can also specify “i18” for
the RegLog to show only the content identifiers for ease of building
your own translations using external tools, eg. <a href="https://github.com/Appsilon/shiny.i18n">shiny.i18n</a>.</p></li>
<li><p><code>custom_txts</code> - defaults to NULL. Can be a named list
of character vectors that should be used in place of defined text for
language of your choosing (to check them out, use
<code>RegLog_texts()</code> function).</p>
<p>You can define custom texts during initialization of
<em>RegLogServer</em>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># initialize new RegLogServer object</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>RegLog <span class="ot">&lt;-</span> RegLogServer<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># assign created dbConnector and mailConnector</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">dbConnector =</span> dbConnector,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mailConnector =</span> mailConnector,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># replace default title and body of `login_success` modalDialog</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">custom_txts =</span> <span class="fu">list</span>(</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">login_success_t =</span> <span class="st">&quot;Welcome!&quot;</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">login_success_b =</span> <span class="st">&quot;Hi! It&#39;s nice to see you logged into our ShinyApp!&quot;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div></li>
<li><p><code>use_modals</code> - defaults to TRUE. If specified as
<code>FALSE</code>, no default modals will be shown. You can also
inhibit only specific modal dialogs by providing named list of FALSE
values. Eg:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize new RegLogServer object</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>RegLog <span class="ot">&lt;-</span> RegLogServer<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># assign created dbConnector and mailConnector</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">dbConnector =</span> dbConnector,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mailConnector =</span> mailConnector,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># inhibit default &#39;login_success&#39; and &#39;register_success&#39; modals</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">use_modals =</span> <span class="fu">list</span>(</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">login_success =</span> <span class="cn">FALSE</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">register_success =</span> <span class="cn">FALSE</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div></li>
</ul>
</div>
<div id="options-related-to-log-saving" class="section level3">
<h3>Options related to log saving</h3>
<p>There are two options that can be defined in the script that relates
to the log collection: <em>RegLogServer.logs</em> that defines saving
logs to <code>RegLogServer$logs</code> and
<em>RegLogServer.logs_to_database</em> that defines saving the logs into
table or spreadsheet created for log-recording purposes.</p>
<blockquote>
<p>To save logs into database, remember to firstly create a table or
spreadsheet. During tables creation with either
<code>DBI_tables_create</code> or <code>gsheet_tables_create</code>
specify argument <code>use_log = T</code>.</p>
</blockquote>
<p>To define options just insert in the beginning of your script:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examples with default values</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="st">&quot;RegLogServer.logs&quot;</span> <span class="ot">=</span> <span class="dv">1</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="st">&quot;RegLogServer.logs_to_database&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span></code></pre></div>
<p>Possible values:</p>
<ul>
<li>0: no message is saved into logs/database</li>
<li>1: messages <strong>sent</strong> and <strong>received</strong> are
saved</li>
<li>2: all messages are saved</li>
</ul>
<blockquote>
<p>It isn’t recommended to save any logs into database when using
<em>RegLogGsheetConnector</em> as your database driver. All actions made
on the <em>googlesheets</em> database are taking significant time.
Recommended only during testing/debugging runs.</p>
</blockquote>
</div>
<div id="options-related-to-e-mail-sending" class="section level3">
<h3>Options related to e-mail sending</h3>
<p>By default, <em>RegLogServer</em> will trigger an e-mail send to
users of your ShinyApp after they are registered, when they attempt
reset password procedure (to provide them with their reset code) and
after changing their user ID or e-mail during the credentials edit
procedure.</p>
<p>As the e-mail sending is mandatory during reset password procedure,
there is no option to inhibit it, but the other messages are only
recommended as they are enriching the user experience. If you are
concerned with the amount of e-mails that can be sent from your app, you
can inhibit these messages using following options:</p>
<ul>
<li><code>options(&quot;RegLogServer.register_mail&quot; = FALSE)</code></li>
<li><code>options(&quot;RegLogServer.credsEdit_mail&quot; = FALSE)</code></li>
</ul>
<p>To inhibit all e-mail sending (eg. if the app is under development,
you are debugging it or only playing with the package currently), you
can pass an <code>RegLogConnector</code> object to the
<code>mailConnector</code> argument during initialization of the
<em>RegLogServer</em>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>RegLog <span class="ot">&lt;-</span> RegLogServer<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">dbConnector =</span> somedbConnector,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">mailConnector =</span> RegLogConnector<span class="sc">$</span><span class="fu">new</span>()</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
